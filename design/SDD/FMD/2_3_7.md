# 2-3-7 刪除錄影

- **功能編號**：2-3-7
- **功能名稱**：刪除錄影
- **功能說明**：使用者刪除影片時需確認；確認後系統刪除關聯事件與錄影資料，並清空播放器與重新載入清單。
- **程式名稱**：services/WebUIServer/app/static/js/recordings.js; services/WebUIServer/app/static/js/APIClient.js; services/APIServer/app/router/Recordings/service.py
- **輸入**：滑鼠；影片管理介面、recordings資料表
- **輸出**：螢幕、資料庫；影片管理介面、recordings資料表、events資料表

## INPUT / PROCESS / OUTPUT

| INPUT | PROCESS | OUTPUT |
|---|---|---|
| ❶ 滑鼠點選【刪除影片】<br>&nbsp;&nbsp;① 【取消】<br>&nbsp;&nbsp;② 【確認】 |  | ❶ 跳出刪除確認視窗 |
| ❶-① 滑鼠點選【取消】 |  | ❶-① 關閉刪除確認視窗 |
| ❶-② 滑鼠點選【確認】 | ❶-② 刪除 recordings 與關聯 events 資料並重新載入清單。 | ❶-② 刪除錄影資料 |

## 資料表

### recordings; events

| 欄位 | 中文 | 型態 | 長度 | 空值 | 預設值 | 備註 |
|---|---|---|---:|---|---|---|
| s3_key | 影片S3路徑 | TEXT |  | 否 |  | recordings.s3_key（刪除 MinIO 物件） |
| recording_id | 錄影ID | UUID |  | 是 |  | events.recording_id（刪除關聯事件） |
