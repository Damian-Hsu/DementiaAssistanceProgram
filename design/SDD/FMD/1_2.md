# 1-2 登出

- **功能編號**：1-2
- **功能名稱**：登出
- **功能說明**：已登入使用者可透過側邊欄、行動版底部導覽或設定頁的登出按鈕執行登出；系統先顯示登出確認對話框，若確認則清除前端保存的 JWT 與使用者快取資訊並導回登入頁，若取消則關閉對話框並維持登入狀態。
- **程式名稱**：services/WebUIServer/app/template/base.html; services/WebUIServer/app/template/partials/sidebar.html; services/WebUIServer/app/template/partials/mobile_nav.html; services/WebUIServer/app/template/partials/logout_confirm_dialog.html; services/WebUIServer/app/static/js/logout.js; services/WebUIServer/app/static/js/AuthService.js; services/WebUIServer/app/static/css/logout_dialog.css
- **輸入**：滑鼠、鍵盤；導覽介面、是否登出視窗
- **輸出**：螢幕；是否登出視窗、登入介面
- **備註**：登出僅清除前端 token/快取，不呼叫後端登出 API。

## INPUT / PROCESS / OUTPUT

| INPUT | PROCESS | OUTPUT |
|---|---|---|
| ❶ 滑鼠點選【登出】<br>&nbsp;&nbsp;① 【取消】<br>&nbsp;&nbsp;② 【確認】<br>&nbsp;&nbsp;③ 【點擊視窗外】<br>&nbsp;&nbsp;④ 【ESC】 | ❶ 跳出是否登出視窗 | ❶ 跳出是否登出視窗 |
| ❶-① 滑鼠點選【取消】 |  | ❶-① 關閉是否登出視窗並維持登入狀態 |
| ❶-② 滑鼠點選【確認】 | ❶-② 刪除瀏覽器中的 JWT Token（localStorage.jwt）並清除 localStorage.user_role、localStorage.user_id 與 window.__CURRENT_USER 快取（若存在）。 | ❶-② 切換至登入介面 |
| ❶-③ 滑鼠點擊視窗外 |  | ❶-③ 關閉是否登出視窗並維持登入狀態 |
| ❶-④ 鍵盤按下【ESC】 |  | ❶-④ 關閉是否登出視窗並維持登入狀態 |
