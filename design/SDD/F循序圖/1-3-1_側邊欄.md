# 1-3-1 側邊欄

# Mermaid
```mermaid
sequenceDiagram
  actor User
  participant Browser
  participant WebUIServer

  User ->> Browser: 開啟任一功能頁（桌面寬度）
  Browser ->> WebUIServer: GET /home (或其他頁)
  WebUIServer -->> Browser: 200 base.html + sidebar partial\n+ init_user.js

  Browser ->> Browser: 依使用者 role\n顯示 sidebar_user 或 sidebar_admin
  Browser ->> Browser: 依 active_page 高亮目前導覽項目

  User ->> Browser: 點選側邊欄導覽項目
  Browser ->> WebUIServer: GET /<target_page>
  WebUIServer -->> Browser: 200 目標功能頁

  opt 手機寬度（RWD）
    note over Browser: 側邊欄會隱藏，改用 1-3-2 底部導覽（由 CSS 控制）
  end
```

## Mermaid 備註
- 角色切換：由 `init_user.js` 判斷 `role===admin`，切換顯示 `sidebar_admin` 或 `sidebar_user`（DOM 元素 `#sidebar-admin/#sidebar-user`）。\n- 高亮：由模板 `active_page`（`body.dataset.activePage`）與 CSS 決定（抽象表示）。\n- 登出：側邊欄的登出按鈕會觸發 1-2/1-2-1。\n+

