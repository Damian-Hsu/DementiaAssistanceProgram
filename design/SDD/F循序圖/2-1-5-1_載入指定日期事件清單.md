# 2-1-5-1 載入指定日期事件清單

# Mermaid
```mermaid
sequenceDiagram
  actor User
  participant Browser
  participant WebUIServer
  participant APIServer
  participant Postgres

  User ->> Browser: 開啟事件選擇視窗
  Browser ->> WebUIServer: GET /bff/v1/vlogs/events/{target_date}\nAuthorization: Bearer jwt
  WebUIServer ->> APIServer: GET /api/v1/vlogs/events/{target_date}
  APIServer ->> APIServer: 依使用者時區換算日界線
  APIServer ->> Postgres: SELECT events WHERE user_id=current_user\nAND start_time in [day_start_utc, day_end_utc]
  Postgres -->> APIServer: events[]
  APIServer -->> WebUIServer: 200 {date, events:[{id,summary,start_time,...}]}
  WebUIServer -->> Browser: 200 ...

  alt events 為空
    Browser ->> Browser: 顯示「該日無事件」提示\n並停用【下一步】（假設）
  else 有事件
    Browser ->> Browser: 渲染事件列表\n提供勾選框
  end
```

## Mermaid 備註
- API：`GET /bff/v1/vlogs/events/{date}` → `GET /api/v1/vlogs/events/{date}`。\n- 後端會依「使用者時區」計算當日 UTC 區間再查詢 events。\n- 缺少的關鍵資訊：前端 UI 對「無事件」的互動限制（是否可直接進下一步）未在描述中固定；本圖假設無事件時不可進入參數設定。\n+

