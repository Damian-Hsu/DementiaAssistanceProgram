# 2-1-1 切換日期

# Mermaid
```mermaid
sequenceDiagram
  actor User
  participant Browser

  User ->> Browser: 使用日期選擇器 / 上一天 / 下一天
  Browser ->> Browser: 更新 currentDate\n更新 URL query (?date=YYYY-MM-DD)
  Browser ->> Browser: 重新載入日記（見 2-1-2）\n重新載入 Vlog（見 2-1-4）

  alt 使用者快速連續切換
    loop 多次切換
      User ->> Browser: 再次選擇日期
      Browser ->> Browser: 取消/覆蓋前一次載入（假設）\n只保留最後一次結果
    end
  else 一般切換
    Browser ->> Browser: 顯示該日內容
  end
```

## Mermaid 備註
- 入口：`diary.js` 綁定 `#diaryDate` change 與翻頁區塊 click，會同步更新日記與 Vlog（`window.vlogManager.loadDailyVlog()`）。\n- 缺少的關鍵資訊：前端是否做「請求取消/去抖動」避免重複載入（程式未明確使用 AbortController）；本圖以「覆蓋前一次結果」（假設）表達。\n+

