# 2-2-3 刪除鏡頭

# Mermaid
```mermaid
sequenceDiagram
  actor User
  participant Browser
  participant WebUIServer
  participant APIServer
  participant Postgres

  User ->> Browser: 在鏡頭卡片選擇狀態為【deleted】\n或點選刪除（UI 行為）
  Browser ->> WebUIServer: DELETE /bff/v1/camera/{id}\nAuthorization: Bearer jwt
  WebUIServer ->> APIServer: DELETE /api/v1/camera/{id}
  APIServer ->> Postgres: UPDATE camera SET status=deleted\n(邏輯刪除)
  Postgres -->> APIServer: commit ok
  APIServer -->> WebUIServer: 200 {ok:true}
  WebUIServer -->> Browser: 200 ...

  Browser ->> Browser: 重新載入鏡頭清單\n隱藏 deleted 鏡頭

  alt 清單為空
    Browser ->> Browser: 顯示新增鏡頭表單（假設）
  end
```

## Mermaid 備註
- 後端刪除採「邏輯刪除」：將 `camera.status` 設為 `deleted`（參考 `services/APIServer/app/router/Camera/service.py`）。\n- 缺少的關鍵資訊：前端是否用 `DELETE /camera/{id}` 或 `PATCH /camera/{id}/status` 來代表刪除；本圖以 `DELETE` 表達（若實作改用 PATCH，可視為等價）。\n+

