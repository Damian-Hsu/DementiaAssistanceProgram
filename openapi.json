{"openapi":"3.1.0","info":{"title":"Dementia Assistance Program API","version":"1.0.0"},"servers":[{"url":"/api/v1"}],"paths":{"/auth/signup":{"post":{"tags":["auth"],"summary":"Signup","description":"註冊新使用者 → 建立 users.Table → 回傳 JWT","operationId":"signup_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequestDTO"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/signupadmin":{"post":{"tags":["auth"],"summary":"Signup Admin","operationId":"signup_admin_auth_signupadmin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequestDTO"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"登入 → 驗證帳號密碼 → 回傳 JWT","operationId":"login_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/music":{"get":{"tags":["music"],"summary":"List Music","description":"列出可用的音樂清單","operationId":"list_music_music_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳過筆數","default":0,"title":"Skip"},"description":"跳過筆數"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"返回筆數","default":50,"title":"Limit"},"description":"返回筆數"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/music/{music_id}":{"get":{"tags":["music"],"summary":"Get Music","description":"取得單首音樂的詳細資料","operationId":"get_music_music__music_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"music_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"音樂 ID","title":"Music Id"},"description":"音樂 ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/music/{music_id}/url":{"get":{"tags":["music"],"summary":"Get Music Url","description":"取得音樂播放 URL (MinIO 預簽名 URL)","operationId":"get_music_url_music__music_id__url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"music_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"音樂 ID","title":"Music Id"},"description":"音樂 ID"},{"name":"ttl","in":"query","required":false,"schema":{"type":"integer","maximum":86400,"minimum":60,"description":"URL 有效時間(秒)","default":3600,"title":"Ttl"},"description":"URL 有效時間(秒)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/events/{target_date}":{"get":{"tags":["vlogs"],"summary":"Get Date Events","description":"獲取指定日期的所有事件(用於手動選擇)","operationId":"get_date_events_vlogs_events__target_date__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"target_date","in":"path","required":true,"schema":{"type":"string","format":"date","description":"目標日期 (YYYY-MM-DD)","title":"Target Date"},"description":"目標日期 (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DateEventsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/ai-select":{"post":{"tags":["vlogs"],"summary":"Ai Select Vlog Clips","description":"使用 AI (RAG) 自動選擇適合的事件片段","operationId":"ai_select_vlog_clips_vlogs_ai_select_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogAISelectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogAISelectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/vlogs":{"post":{"tags":["vlogs"],"summary":"Create Vlog","description":"創建 Vlog (發送到 Compute Server 進行剪輯)","operationId":"create_vlog_vlogs_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vlogs"],"summary":"List Vlogs","description":"獲取用戶的 Vlog 列表","operationId":"list_vlogs_vlogs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳過記錄數","default":0,"title":"Skip"},"description":"跳過記錄數"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"返回記錄數","default":20,"title":"Limit"},"description":"返回記錄數"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"按狀態過濾","title":"Status"},"description":"按狀態過濾"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/date/{target_date}":{"get":{"tags":["vlogs"],"summary":"Get Vlog By Date","description":"獲取指定日期的最新 Vlog","operationId":"get_vlog_by_date_vlogs_date__target_date__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"target_date","in":"path","required":true,"schema":{"type":"string","format":"date","description":"Vlog 日期 (YYYY-MM-DD)","title":"Target Date"},"description":"Vlog 日期 (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DailyVlogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/{vlog_id}":{"get":{"tags":["vlogs"],"summary":"Get Vlog Detail","description":"獲取 Vlog 詳細信息","operationId":"get_vlog_detail_vlogs__vlog_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"vlog_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Vlog ID","title":"Vlog Id"},"description":"Vlog ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["vlogs"],"summary":"Delete Vlog","description":"刪除 Vlog","operationId":"delete_vlog_vlogs__vlog_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"vlog_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Vlog ID","title":"Vlog Id"},"description":"Vlog ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/{vlog_id}/url":{"get":{"tags":["vlogs"],"summary":"Get Vlog Url","description":"獲取 Vlog 播放 URL (預簽名 S3 URL)","operationId":"get_vlog_url_vlogs__vlog_id__url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"vlog_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Vlog ID","title":"Vlog Id"},"description":"Vlog ID"},{"name":"ttl","in":"query","required":false,"schema":{"type":"integer","maximum":86400,"minimum":60,"description":"URL 有效時間(秒)","default":3600,"title":"Ttl"},"description":"URL 有效時間(秒)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/{vlog_id}/thumbnail-url":{"get":{"tags":["vlogs"],"summary":"Get Vlog Thumbnail Url","description":"獲取 Vlog 縮圖 URL (預簽名 S3 URL)","operationId":"get_vlog_thumbnail_url_vlogs__vlog_id__thumbnail_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"vlog_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Vlog ID","title":"Vlog Id"},"description":"Vlog ID"},{"name":"ttl","in":"query","required":false,"schema":{"type":"integer","maximum":86400,"minimum":60,"description":"URL 有效時間(秒)","default":3600,"title":"Ttl"},"description":"URL 有效時間(秒)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/internal/segments":{"post":{"tags":["vlogs"],"summary":"Internal Get Vlog Segments","description":"[內部] 獲取事件對應的視頻片段信息\n供 Compute Server 調用以獲取剪輯所需的 S3 Key 和時間偏移","operationId":"internal_get_vlog_segments_vlogs_internal_segments_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogInternalSegmentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VlogInternalSegmentInfoResponse"},"title":"Response Internal Get Vlog Segments Vlogs Internal Segments Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vlogs/internal/{vlog_id}/status":{"patch":{"tags":["vlogs"],"summary":"Internal Update Vlog Status","description":"[內部] 更新 Vlog 狀態\n供 Compute Server 報告任務進度和結果","operationId":"internal_update_vlog_status_vlogs_internal__vlog_id__status_patch","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"vlog_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vlog Id"}},{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VlogStatusUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs":{"post":{"tags":["jobs"],"summary":"Create Job","description":"建立新的推論任務。\n\n為影片輸入建立 recording 記錄，建立 pending 狀態的 job，\n並將任務投遞到 Celery 進行非同步處理。\n\nArgs:\n    body: 任務建立請求資料\n    db: 資料庫會話\n    api_key: API Key 驗證（依賴注入）\n    \nReturns:\n    JobCreatedRespDTO: 包含 job_id 和 trace_id\n    \nRaises:\n    HTTPException: 當輸入類型為 video 但缺少 user_id 時","operationId":"create_job_jobs_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreateDTO"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreatedRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/{job_id}":{"get":{"tags":["jobs"],"summary":"Get Job","description":"取得 Job 狀態與結果","operationId":"get_job_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobGetRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/{job_id}/status":{"get":{"tags":["jobs"],"summary":"Get Job Status","description":"取得 Job 狀態","operationId":"get_job_status_jobs__job_id__status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/":{"get":{"tags":["jobs"],"summary":"List Jobs","description":"取得任務列表（支援分頁和狀態篩選）","operationId":"list_jobs_jobs__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"篩選任務狀態","title":"Status Filter"},"description":"篩選任務狀態"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobListRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/{job_id}/update_status":{"patch":{"tags":["jobs"],"summary":"Update Job Status","description":"更新 Job 狀態（僅限內部使用）","operationId":"update_job_status_jobs__job_id__update_status_patch","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"new_status","in":"query","required":true,"schema":{"$ref":"#/components/schemas/JobStatus"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/{job_id}/complete":{"post":{"tags":["jobs"],"summary":"Complete Job","description":"Job 完成後的回傳：\n1) 更新 job（狀態/錯誤/度量）\n2) 若成功，更新 recordings（is_processed/start_time/end_time）","operationId":"complete_job_jobs__job_id__complete_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCompleteDTO"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OKRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/m2m/ping":{"get":{"tags":["machine-to-machine"],"summary":"Ping","operationId":"ping_m2m_ping_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/m2m/check-stream-pwd":{"post":{"tags":["machine-to-machine"],"summary":"Check Stream Pwd","operationId":"check_stream_pwd_m2m_check_stream_pwd_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["users"],"summary":"Read Me","operationId":"read_me_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["users"],"summary":"Update Me","operationId":"update_me_users_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserProfileDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/me/password":{"put":{"tags":["users"],"summary":"Change Password","operationId":"change_password_users_me_password_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequestDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/token/refresh":{"get":{"tags":["users"],"summary":"Refresh Token","description":"重新申請個人JWT Token","operationId":"refresh_token_users_token_refresh_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/settings":{"get":{"tags":["users"],"summary":"Get User Settings","description":"獲取使用者設定","operationId":"get_user_settings_users_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["users"],"summary":"Update User Settings","description":"更新使用者設定","operationId":"update_user_settings_users_settings_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserSettingsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/settings/timezones":{"get":{"tags":["users"],"summary":"Get Available Timezones","description":"獲取可用時區列表","operationId":"get_available_timezones_users_settings_timezones_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/settings/system-default-llm":{"get":{"tags":["users"],"summary":"Get System Default Llm","description":"獲取系統預設的 LLM provider 和 model（供使用者查看）\n\n優先順序：\n1. 從 settings 表獲取（如果管理員已設定）\n2. 使用系統預設值","operationId":"get_system_default_llm_users_settings_system_default_llm_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/api-keys":{"post":{"tags":["admin"],"summary":"Create Key","operationId":"create_key_admin_api_keys_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreateDTO"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeySecretOutDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin"],"summary":"List Keys","description":"列出所有 M2M API Keys。\n\nArgs:\n    request: FastAPI Request 對象\n    db: 資料庫會話\n    owner_id: 可選的擁有者 ID 過濾條件\n    \nReturns:\n    list[ApiKeyOutDTO]: API Key 列表","operationId":"list_keys_admin_api_keys_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"owner_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"依擁有者過濾（可選）","title":"Owner Id"},"description":"依擁有者過濾（可選）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiKeyOutDTO"},"title":"Response List Keys Admin Api Keys Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/api-keys/{key_id}":{"patch":{"tags":["admin"],"summary":"Update Key","description":"更新 M2M API Key。\n\nArgs:\n    request: FastAPI Request 對象\n    key_id: API Key ID（UUIDv7）\n    body: 更新資料\n    db: 資料庫會話\n    \nReturns:\n    ApiKeyOutDTO: 更新後的 API Key 資訊","operationId":"update_key_admin_api_keys__key_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyPatchDTO"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyOutDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/api-keys/{key_id}/rotate":{"post":{"tags":["admin"],"summary":"Rotate Key","operationId":"rotate_key_admin_api_keys__key_id__rotate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeySecretOutDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/settings/default-google-api-key":{"get":{"tags":["admin"],"summary":"Get Default Google Api Key","description":"獲取預設 Google API Key（只返回部分字符）","operationId":"get_default_google_api_key_admin_settings_default_google_api_key_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultGoogleApiKeyResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Set Default Google Api Key","description":"設置系統預設的 Google API Key。\n\nArgs:\n    request: FastAPI Request 對象\n    body: 包含 API Key 和描述\n    db: 資料庫會話\n    \nReturns:\n    DefaultGoogleApiKeyResponse: 設置結果","operationId":"set_default_google_api_key_admin_settings_default_google_api_key_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetDefaultGoogleApiKeyDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultGoogleApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/settings/default-llm":{"get":{"tags":["admin"],"summary":"Get Default Llm","description":"獲取系統預設 LLM 供應商與模型（全系統共享，僅管理員可讀寫）","operationId":"get_default_llm_admin_settings_default_llm_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultLLMResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Set Default Llm","description":"設置系統預設 LLM 供應商與模型（全系統共享，僅管理員可修改）","operationId":"set_default_llm_admin_settings_default_llm_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetDefaultLLMDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultLLMResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/settings/video-params":{"get":{"tags":["admin"],"summary":"Get Video Params","description":"取得影片參數設定（目前僅切片長度 segment_seconds）。","operationId":"get_video_params_admin_settings_video_params_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoParamsResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Set Video Params","description":"設置影片參數設定（目前僅切片長度 segment_seconds）。","operationId":"set_video_params_admin_settings_video_params_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetVideoParamsDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoParamsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/settings/default-ai-key-limits":{"get":{"tags":["admin"],"summary":"Get Default Ai Key Limits","description":"取得系統預設 AI API Key（預設 key）的用量限制（RPM/RPD，套用在每位使用者使用預設 key 時）。","operationId":"get_default_ai_key_limits_admin_settings_default_ai_key_limits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultAiKeyLimitsResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Set Default Ai Key Limits","description":"設置系統預設 AI API Key（預設 key）的用量限制（RPM/RPD）。","operationId":"set_default_ai_key_limits_admin_settings_default_ai_key_limits_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetDefaultAiKeyLimitsDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultAiKeyLimitsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/blacklist":{"get":{"tags":["admin"],"summary":"List Blacklist","description":"獲取黑名單列表","operationId":"list_blacklist_admin_blacklist_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BlacklistEntryDTO"},"type":"array","title":"Response List Blacklist Admin Blacklist Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Add To Blacklist","description":"將使用者添加到黑名單（禁止使用預設 API Key）","operationId":"add_to_blacklist_admin_blacklist_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToBlacklistDTO"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlacklistEntryDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/blacklist/{user_id}":{"delete":{"tags":["admin"],"summary":"Remove From Blacklist","description":"從黑名單中移除使用者","operationId":"remove_from_blacklist_admin_blacklist__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/users/stats":{"get":{"tags":["admin"],"summary":"Get Users Stats","description":"獲取所有使用者的統計資訊（Token 使用量、聊天訊息數量）","operationId":"get_users_stats_admin_users_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserStatsDTO"},"type":"array","title":"Response Get Users Stats Admin Users Stats Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/users/{user_id}":{"get":{"tags":["admin"],"summary":"Get User Detail","description":"取得單一使用者詳情（僅管理員；包含 password_hash 與黑名單狀態）。","operationId":"get_user_detail_admin_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update User Active","description":"更新使用者帳號啟用狀態（僅管理員）。","operationId":"update_user_active_admin_users__user_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserActiveDTO"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/tasks":{"get":{"tags":["admin"],"summary":"Get Tasks","description":"獲取所有任務列表（整合 compute 和 streaming 服務）。\n\nArgs:\n    request: FastAPI Request 對象\n    status_filter: 可選的狀態過濾（pending, processing, running, success, failed, error, stopped, reconnecting）\n    task_type: 可選的任務類型過濾（video_description, vlog_generation, diary_generation, streaming）\n    page: 頁碼（從 1 開始）\n    size: 每頁筆數\n    db: 資料庫會話\n    \nReturns:\n    TaskListRespDTO: 任務列表和分頁資訊","operationId":"get_tasks_admin_tasks_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Filter"}},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Type"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskListRespDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/music":{"get":{"tags":["admin"],"summary":"List Music Admin","description":"[Admin] 列出音樂清單","operationId":"list_music_admin_admin_music_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"跳過筆數","default":0,"title":"Skip"},"description":"跳過筆數"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"返回筆數","default":50,"title":"Limit"},"description":"返回筆數"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Upload Music","operationId":"upload_music_admin_music_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_music_admin_music_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicAdminRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/music/{music_id}":{"patch":{"tags":["admin"],"summary":"Update Music","description":"[Admin] 更新音樂資訊","operationId":"update_music_admin_music__music_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"music_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"音樂 ID","title":"Music Id"},"description":"音樂 ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MusicAdminRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Music","description":"[Admin] 刪除音樂","operationId":"delete_music_admin_music__music_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"music_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"音樂 ID","title":"Music Id"},"description":"音樂 ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/":{"post":{"tags":["camera"],"summary":"Create Camera","description":"新增相機：預設 active、token_version=1。\n若模型上存在 rtsp_path 欄位，會在取得 id 後自動填入。","operationId":"create_camera_camera__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["camera"],"summary":"List Cameras","description":"列出某使用者的相機（管理員可看所有人，一般使用者只能看自己的）。","operationId":"list_cameras_camera__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CameraStatus"},{"type":"null"}],"title":"Status"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraListResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}":{"patch":{"tags":["camera"],"summary":"Update Camera","operationId":"update_camera_camera__id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["camera"],"summary":"Delete Camera","description":"Demo：做邏輯刪除（status=deleted）。\n如果你真的要物理刪除，改成 await db.delete(cam) + commit 即可。","operationId":"delete_camera_camera__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["camera"],"summary":"Get Camera","description":"取得單一相機資訊（管理員可看所有人，一般使用者只能看自己的）。","operationId":"get_camera_camera__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/status":{"patch":{"tags":["camera"],"summary":"Set Status","description":"修改相機狀態（active / inactive / deleted）。\n只有管理員或擁有者可以修改所有相機，但一般使用者只能改自己的。","operationId":"set_status_camera__id__status_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CameraStatusReq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/token/version-rotate":{"post":{"tags":["camera"],"summary":"Rotate Token Version","description":"一鍵失效所有舊 token（這台相機）：token_version += 1","operationId":"rotate_token_version_camera__id__token_version_rotate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenVersionResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/stream/connect":{"post":{"tags":["camera"],"summary":"Connect Stream","description":"建立 RTSP 推流：\n1) 簽 publisher token → 給客戶端推流。\n2) 簽 player token → StreamingServer 拉流（內部用）。\n3) 呼叫 /streams/start 開錄。","operationId":"connect_stream_camera__id__stream_connect_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateTokenReq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StreamConnectResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/stream/stop":{"post":{"tags":["camera"],"summary":"Stop Stream","description":"停止錄影（StreamingServer 停拉流與切片）。","operationId":"stop_stream_camera__id__stream_stop_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/publish_rtsp_url":{"get":{"tags":["camera"],"summary":"Get Publish Rtsp Url","description":"發 RTSP 推流用的 JWT，回傳帶 token 的 URL。","operationId":"get_publish_rtsp_url_camera__id__publish_rtsp_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"ttl","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":21600,"minimum":300},{"type":"null"}],"default":10800,"title":"Ttl"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/stream/status":{"get":{"tags":["camera"],"summary":"Get Stream Status","description":"查詢鏡頭的串流狀態。","operationId":"get_stream_status_camera__id__stream_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StreamStatusResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/play-webrtc-url":{"get":{"tags":["camera"],"summary":"Get Play Webrtc Url","description":"發 WebRTC 播放用的 JWT，回傳帶 token 的 URL。","operationId":"get_play_webrtc_url_camera__id__play_webrtc_url_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"ttl","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":10800,"minimum":30},{"type":"null"}],"default":180,"title":"Ttl"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayWebRTCURLResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/camera/{id}/token/refresh/{audience}":{"get":{"tags":["camera"],"summary":"Refresh Token","description":"重新簽發串流，只負責延長有效期（refresh token）。\n需要提供還在有效期內的舊 token，並且會驗證 token 的有效性與欄位。","operationId":"refresh_token_camera__id__token_refresh__audience__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}},{"name":"audience","in":"path","required":true,"schema":{"enum":["rtsp","webrtc"],"type":"string","description":"指定要重新簽發的 token 用途","title":"Audience"},"description":"指定要重新簽發的 token 用途"},{"name":"token","in":"query","required":true,"schema":{"type":"string","description":"還在有效期內的舊 token","title":"Token"},"description":"還在有效期內的舊 token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/":{"get":{"tags":["events"],"summary":"List Events","description":"事件列表（可篩選 recording / 時間區間 / 關鍵字 / 排序 + 分頁）","operationId":"list_events_events__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"recording_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Recording Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"指定使用者 ID（僅管理員可用）","title":"User Id"},"description":"指定使用者 ID（僅管理員可用）"},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"ISO local date","title":"Start Time"},"description":"ISO local date"},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"ISO local date","title":"End Time"},"description":"ISO local date"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"查詢 action / scene / summary / objects","title":"Keywords"},"description":"查詢 action / scene / summary / objects"},{"name":"sr","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"查詢範圍，多值：?sr=action&sr=scene&sr=objects","title":"Sr"},"description":"查詢範圍，多值：?sr=action&sr=scene&sr=objects"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"欄位：start_time|created_at|duration；加 :asc|:desc 或前綴 +/-","title":"Sort"},"description":"欄位：start_time|created_at|duration；加 :asc|:desc 或前綴 +/-"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventListResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}":{"get":{"tags":["events"],"summary":"Get Event","description":"取得單一事件內容","operationId":"get_event_events__event_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Events__DTO__EventRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["events"],"summary":"Update Event","description":"更新事件（部分欄位）","operationId":"update_event_events__event_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Event Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["events"],"summary":"Delete Event","description":"刪除事件","operationId":"delete_event_events__event_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recordings/{recording_id}":{"get":{"tags":["recordings"],"summary":"Get Recording Url","description":"取得影片的 **Pre-signed GET URL**（可直接播放/下載；支援 HTTP Range）。\n\n**Query 參數**\n- `ttl`: `int`，連結有效秒數，預設 `900`，範圍 `30..604800`\n- `disposition`: `inline | attachment`，控制瀏覽器顯示或下載\n- `filename`: `str | None`，下載檔名（未提供則取 `s3_key` 尾段）\n\n**呼叫範例**\n- 直接播放（5 分鐘）：  \n  `GET /recordings/{id}?ttl=300&disposition=inline`\n- 下載並指定檔名（30 分鐘）：  \n  `GET /recordings/{id}?ttl=1800&disposition=attachment&filename=myvideo.mp4`\n\n**注意**：此端點僅回傳影片 URL，不包含 recording 詳細資訊。","operationId":"get_recording_url_recordings__recording_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"recording_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"錄影片段 ID","title":"Recording Id"},"description":"錄影片段 ID"},{"name":"ttl","in":"query","required":false,"schema":{"type":"integer","maximum":604800,"minimum":30,"description":"URL 有效秒數（預設 900，最大 7 天）","default":900,"title":"Ttl"},"description":"URL 有效秒數（預設 900，最大 7 天）"},{"name":"disposition","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(inline|attachment)$"},{"type":"null"}],"description":"瀏覽器呈現方式：inline 或 attachment","title":"Disposition"},"description":"瀏覽器呈現方式：inline 或 attachment"},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"下載檔名；未提供則使用 s3_key 的檔名","title":"Filename"},"description":"下載檔名；未提供則使用 s3_key 的檔名"},{"name":"asset_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(video|thumbnail)$"},{"type":"null"}],"description":"回傳 video 或 thumbnail 的 URL","title":"Asset Type"},"description":"回傳 video 或 thumbnail 的 URL"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingUrlResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["recordings"],"summary":"Delete Recording","description":"**硬刪除** 錄影片段：刪 S3 物件 + 刪 DB 紀錄。  \n若 `events.recording_id` 沒有 `ON DELETE CASCADE`，此處會一併刪除關聯事件。\n\n**步驟**\n1. 讀取 DB 取得 `s3_key`  \n2. 刪除 S3 物件（冪等）  \n3. 刪除關聯事件（若未啟用級聯）  \n4. 刪除錄影紀錄\n\n**呼叫範例**\n- `DELETE /recordings/{id}`","operationId":"delete_recording_recordings__recording_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"recording_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"錄影片段 ID","title":"Recording Id"},"description":"錄影片段 ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__router__Recordings__DTO__OkResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recordings/":{"get":{"tags":["recordings"],"summary":"List Recordings","description":"查詢 **影片列表**（事件關鍵字、時間、排序、分頁）。\n\n**Query 參數**\n- `keywords`: `str | None`，搜尋 *事件* 欄位（預設 `summary`）\n- `sr`: `List[str] | None`，範圍 `action|scene|summary|objects`\n- `start_time`, `end_time`: `date | None`，轉換為整日 UTC 範圍\n- `sort`: 允許 `start_time|created_at|duration|size_bytes|id`，可 `:asc|:desc` 或 `-field`\n- `page`, `size`: 分頁\n\n**呼叫範例**\n- 找出 2025-03-01 當天包含「喝水」事件摘要的影片：  \n  `GET /recordings?keywords=喝水&start_time=2025-03-01&sort=-start_time&page=1&size=20`\n- 指定查詢範圍為 `action` 與 `objects`：  \n  `GET /recordings?keywords=drinking&sr=action&sr=objects`","operationId":"list_recordings_recordings__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"指定使用者 ID（僅管理員可用）","title":"User Id"},"description":"指定使用者 ID（僅管理員可用）"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"在 *事件* 欄位內搜尋的關鍵字（預設比對 `summary`）","title":"Keywords"},"description":"在 *事件* 欄位內搜尋的關鍵字（預設比對 `summary`）"},{"name":"sr","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"查詢範圍，多值：`?sr=action&sr=scene&sr=objects`；預設只查 `summary`","title":"Sr"},"description":"查詢範圍，多值：`?sr=action&sr=scene&sr=objects`；預設只查 `summary`"},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"ISO local date；會轉為整日 UTC 開始","title":"Start Time"},"description":"ISO local date；會轉為整日 UTC 開始"},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"ISO local date；若與 start_time 同給則形成區間","title":"End Time"},"description":"ISO local date；若與 start_time 同給則形成區間"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"排序欄位：`start_time|created_at|duration|size_bytes|id`；可 `:asc|:desc` 或 `-field`","title":"Sort"},"description":"排序欄位：`start_time|created_at|duration|size_bytes|id`；可 `:asc|:desc` 或 `-field`"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingListResp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recordings/{recording_id}/events":{"get":{"tags":["recordings"],"summary":"Get Recording Events","description":"取得 **指定錄影底下的所有事件**（輕量，無複雜 join）。\n\n**Query 參數**\n- `sort`: 允許 `start_time|created_at|duration|id`；可 `:asc|:desc` 或 `-field`\n\n**呼叫範例**\n- 依事件開始時間新到舊：  \n  `GET /recordings/{id}/events?sort=-start_time`","operationId":"get_recording_events_recordings__recording_id__events_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"recording_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"錄影片段 ID","title":"Recording Id"},"description":"錄影片段 ID"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"排序：`start_time|created_at|duration|id`，可 `:asc|:desc` 或 `-field`","title":"Sort"},"description":"排序：`start_time|created_at|duration|id`，可 `:asc|:desc` 或 `-field`"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__router__Recordings__DTO__EventRead"},"title":"Response Get Recording Events Recordings  Recording Id  Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/m2m/recordings/{recording_id}/thumbnail":{"patch":{"tags":["m2m"],"summary":"Update Recording Thumbnail M2M","description":"[M2M] 更新錄影的縮圖路徑（供 ComputeServer 回寫）。","operationId":"update_recording_thumbnail_m2m_m2m_recordings__recording_id__thumbnail_patch","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"recording_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"錄影 ID","title":"Recording Id"},"description":"錄影 ID"},{"name":"thumbnail_s3_key","in":"query","required":true,"schema":{"type":"string","description":"縮圖 S3 路徑","title":"Thumbnail S3 Key"},"description":"縮圖 S3 路徑"},{"name":"api-key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/":{"post":{"tags":["chat"],"summary":"Chat With Memory Assistant","description":"與記憶助手進行對話。\n\n處理使用者訊息，檢查速率限制和緩存，調用 LLM 模型生成回應，\n並執行工具調用來檢索相關事件、影片、日記和 Vlog。\n\nArgs:\n    request: FastAPI Request 對象\n    body: 聊天請求資料\n    db: 資料庫會話\n    \nReturns:\n    ChatResponse: 包含 LLM 回應、相關事件、影片、日記和 Vlog\n    \nRaises:\n    HTTPException: 當速率限制超標、API Key 未配置或黑名單時","operationId":"chat_with_memory_assistant_chat__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/chat/cleanup/{user_id}":{"delete":{"tags":["chat"],"summary":"Force Cleanup User Model","description":"強制清理特定使用者的 LLM 模型實例\n\n僅管理員可使用","operationId":"force_cleanup_user_model_chat_cleanup__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/stats":{"get":{"tags":["chat"],"summary":"Get Llm Stats","description":"獲取 LLM API 使用統計\n\n返回速率限制與 LLM 管理器的統計資訊","operationId":"get_llm_stats_chat_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/chat/diary/summary":{"post":{"tags":["chat"],"summary":"Generate Diary Summary","description":"生成或獲取日記摘要\n\n**功能**：\n- 根據指定日期獲取該日的事件\n- 計算事件哈希值，如果與上次相同則不刷新\n- 使用 LLM 生成日記摘要（無字數限制）\n- 保存到資料庫\n\n**參數**：\n- diary_date: 日記日期\n- force_refresh: 是否強制刷新（忽略哈希檢查）","operationId":"generate_diary_summary_chat_diary_summary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiarySummaryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiarySummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/chat/diary/{diary_date}":{"get":{"tags":["chat"],"summary":"Get Diary","description":"獲取指定日期的日記（不刷新）","operationId":"get_diary_chat_diary__diary_date__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"diary_date","in":"path","required":true,"schema":{"type":"string","format":"date","title":"Diary Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiarySummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["system"],"summary":"Read Root","description":"測試 API 是否連線","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/healthz":{"get":{"tags":["health"],"summary":"Health Check","description":"健康檢查 API","operationId":"health_check_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/datatime":{"get":{"tags":["system"],"summary":"Get Server Datetime","description":"取得伺服器當前 UTC 時間\n用於客戶端時間同步和查詢參數標準化","operationId":"get_server_datetime_datatime_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DateTimeResponse"}}}}}}}},"components":{"schemas":{"AddToBlacklistDTO":{"properties":{"user_id":{"type":"integer","title":"User Id"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["user_id"],"title":"AddToBlacklistDTO","description":"添加到黑名單"},"ApiKeyCreateDTO":{"properties":{"name":{"type":"string","title":"Name"},"owner_id":{"type":"integer","title":"Owner Id"},"rate_limit_per_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit Per Min"},"quota_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quota Per Day"},"scopes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Scopes"}},"type":"object","required":["name","owner_id"],"title":"ApiKeyCreateDTO"},"ApiKeyOutDTO":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"owner_id":{"type":"integer","title":"Owner Id"},"active":{"type":"boolean","title":"Active"},"rate_limit_per_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit Per Min"},"quota_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quota Per Day"},"scopes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Scopes"}},"type":"object","required":["id","name","owner_id","active"],"title":"ApiKeyOutDTO"},"ApiKeyPatchDTO":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"rate_limit_per_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit Per Min"},"quota_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quota Per Day"},"scopes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Scopes"}},"type":"object","title":"ApiKeyPatchDTO"},"ApiKeySecretOutDTO":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"owner_id":{"type":"integer","title":"Owner Id"},"active":{"type":"boolean","title":"Active"},"rate_limit_per_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit Per Min"},"quota_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quota Per Day"},"scopes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Scopes"},"token":{"type":"string","title":"Token"}},"type":"object","required":["id","name","owner_id","active","token"],"title":"ApiKeySecretOutDTO"},"BlacklistEntryDTO":{"properties":{"user_id":{"type":"integer","title":"User Id"},"user_account":{"type":"string","title":"User Account"},"user_name":{"type":"string","title":"User Name"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["user_id","user_account","user_name","created_at"],"title":"BlacklistEntryDTO","description":"黑名單條目"},"Body_login_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_auth_login_post"},"Body_upload_music_admin_music_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"音樂檔案"},"name":{"type":"string","title":"Name","description":"音樂名稱"},"composer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composer","description":"製作者"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"詳細資訊"},"metadata":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata","description":"附加 metadata (JSON 字串，可選)"}},"type":"object","required":["file","name"],"title":"Body_upload_music_admin_music_post"},"CameraCreate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"name":{"type":"string","maxLength":128,"title":"Name"},"max_publishers":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Publishers","default":1}},"type":"object","required":["name"],"title":"CameraCreate"},"CameraListResp":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CameraRead"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"CameraListResp"},"CameraRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"name":{"type":"string","title":"Name"},"status":{"type":"string","title":"Status"},"token_version":{"type":"integer","title":"Token Version"},"last_seen_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen At"},"max_publishers":{"type":"integer","title":"Max Publishers"}},"type":"object","required":["id","user_id","name","status","token_version","max_publishers"],"title":"CameraRead"},"CameraStatus":{"type":"string","enum":["inactive","active","deleted"],"title":"CameraStatus"},"CameraStatusReq":{"properties":{"status":{"type":"string","enum":["inactive","active","deleted"],"title":"Status"}},"type":"object","required":["status"],"title":"CameraStatusReq"},"CameraUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Name"},"max_publishers":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Publishers"},"status":{"anyOf":[{"$ref":"#/components/schemas/CameraStatus"},{"type":"null"}]}},"type":"object","title":"CameraUpdate"},"ChangePasswordRequestDTO":{"properties":{"old_password":{"type":"string","title":"Old Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["old_password","new_password"],"title":"ChangePasswordRequestDTO"},"ChatMessage":{"properties":{"role":{"type":"string","enum":["user","assistant","system"],"title":"Role","description":"訊息角色"},"content":{"type":"string","title":"Content","description":"訊息內容"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp","description":"訊息時間戳"}},"type":"object","required":["role","content"],"title":"ChatMessage","description":"單條對話訊息"},"ChatRequest":{"properties":{"message":{"type":"string","maxLength":500,"minLength":1,"title":"Message","description":"用戶訊息"},"history":{"items":{"$ref":"#/components/schemas/ChatMessage"},"type":"array","title":"History","description":"對話歷史（最多保留最近 10 條）"},"date_from":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From","description":"查詢起始日期（ISO format）"},"date_to":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To","description":"查詢結束日期（ISO format）"},"max_results":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Max Results","description":"每次函數調用最多返回結果數","default":10}},"type":"object","required":["message"],"title":"ChatRequest","description":"對話式聊天請求"},"ChatResponse":{"properties":{"message":{"type":"string","title":"Message","description":"AI 回覆訊息"},"events":{"items":{"$ref":"#/components/schemas/EventSimple"},"type":"array","title":"Events","description":"相關事件列表"},"recordings":{"items":{"$ref":"#/components/schemas/RecordingSimple"},"type":"array","title":"Recordings","description":"相關影片列表"},"diaries":{"items":{"$ref":"#/components/schemas/DiarySimple"},"type":"array","title":"Diaries","description":"相關日記列表"},"vlogs":{"items":{"$ref":"#/components/schemas/VlogSimple"},"type":"array","title":"Vlogs","description":"相關Vlog列表"},"function_calls":{"items":{"$ref":"#/components/schemas/FunctionCallResult"},"type":"array","title":"Function Calls","description":"本次調用的函數列表"},"has_more":{"type":"boolean","title":"Has More","description":"是否還有更多結果可查詢","default":false},"total_events":{"type":"integer","title":"Total Events","description":"符合條件的事件總數","default":0},"total_recordings":{"type":"integer","title":"Total Recordings","description":"符合條件的影片總數","default":0},"total_diaries":{"type":"integer","title":"Total Diaries","description":"符合條件的日記總數","default":0},"total_vlogs":{"type":"integer","title":"Total Vlogs","description":"符合條件的Vlog總數","default":0}},"type":"object","required":["message"],"title":"ChatResponse","description":"對話式聊天回應"},"DailyVlogResponse":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"target_date":{"type":"string","format":"date","title":"Target Date"},"status":{"type":"string","title":"Status"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"status_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Message"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","target_date","status","created_at"],"title":"DailyVlogResponse","description":"每日 Vlog 回應"},"DateEventsResponse":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"events":{"items":{"$ref":"#/components/schemas/EventInfo"},"type":"array","title":"Events"}},"type":"object","required":["date","events"],"title":"DateEventsResponse","description":"指定日期的事件列表"},"DateTimeResponse":{"properties":{"utc_datetime":{"type":"string","title":"Utc Datetime"},"utc_timestamp":{"type":"number","title":"Utc Timestamp"},"utc_Y":{"type":"integer","title":"Utc Y"},"utc_m":{"type":"integer","title":"Utc M"},"utc_d":{"type":"integer","title":"Utc D"},"utc_H":{"type":"integer","title":"Utc H"},"utc_M":{"type":"integer","title":"Utc M"},"utc_S":{"type":"integer","title":"Utc S"},"utc_microsecond":{"type":"integer","title":"Utc Microsecond"},"timezone":{"type":"string","title":"Timezone","default":"UTC"},"iso_format":{"type":"string","title":"Iso Format"}},"type":"object","required":["utc_datetime","utc_timestamp","utc_Y","utc_m","utc_d","utc_H","utc_M","utc_S","utc_microsecond","iso_format"],"title":"DateTimeResponse"},"DefaultAiKeyLimitsResponse":{"properties":{"rpm":{"type":"integer","title":"Rpm"},"rpd":{"type":"integer","title":"Rpd"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["rpm","rpd"],"title":"DefaultAiKeyLimitsResponse","description":"系統預設 AI API Key（預設 key）限制回應"},"DefaultGoogleApiKeyResponse":{"properties":{"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","title":"DefaultGoogleApiKeyResponse","description":"預設 Google API Key 回應"},"DefaultLLMResponse":{"properties":{"default_llm_provider":{"type":"string","title":"Default Llm Provider"},"default_llm_model":{"type":"string","title":"Default Llm Model"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["default_llm_provider","default_llm_model"],"title":"DefaultLLMResponse","description":"系統預設 LLM 回應"},"DiarySimple":{"properties":{"date":{"type":"string","title":"Date"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"exists":{"type":"boolean","title":"Exists","default":false},"success":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["date"],"title":"DiarySimple","description":"查詢結果中的日記（精簡版）"},"DiarySummaryRequest":{"properties":{"diary_date":{"type":"string","format":"date","title":"Diary Date","description":"日記日期（ISO format）"},"force_refresh":{"type":"boolean","title":"Force Refresh","description":"是否強制刷新（忽略哈希檢查）","default":false}},"type":"object","required":["diary_date"],"title":"DiarySummaryRequest","description":"日記摘要請求"},"DiarySummaryResponse":{"properties":{"diary_date":{"type":"string","format":"date","title":"Diary Date","description":"日記日期"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"日記內容"},"events_count":{"type":"integer","title":"Events Count","description":"事件數量","default":0},"is_refreshed":{"type":"boolean","title":"Is Refreshed","description":"是否已刷新","default":false}},"type":"object","required":["diary_date"],"title":"DiarySummaryResponse","description":"日記摘要回應"},"EventInfo":{"properties":{"id":{"type":"string","title":"Id"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scene"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"recording_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recording Id"}},"type":"object","required":["id"],"title":"EventInfo","description":"單個事件的簡要信息"},"EventListResp":{"properties":{"items":{"items":{"$ref":"#/components/schemas/app__router__Events__DTO__EventRead"},"type":"array","title":"Items"},"item_total":{"type":"integer","title":"Item Total"},"page_size":{"type":"integer","title":"Page Size"},"page_now":{"type":"integer","title":"Page Now"},"page_total":{"type":"integer","title":"Page Total"}},"type":"object","required":["items","item_total","page_size","page_now","page_total"],"title":"EventListResp"},"EventSimple":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"recording_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Recording Id"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scene"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"objects":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Objects"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}},"type":"object","required":["id"],"title":"EventSimple","description":"查詢結果中的事件（精簡版）"},"EventUpdate":{"properties":{"recording_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Recording Id"},"action":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Scene"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"objects":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Objects"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}},"type":"object","title":"EventUpdate"},"FunctionCallResult":{"properties":{"function_name":{"type":"string","title":"Function Name","description":"函數名稱"},"arguments":{"additionalProperties":true,"type":"object","title":"Arguments","description":"函數參數"},"result":{"title":"Result","description":"函數返回結果"}},"type":"object","required":["function_name"],"title":"FunctionCallResult","description":"函數調用結果"},"Gender":{"type":"string","enum":["male","female"],"title":"Gender"},"GenerateTokenReq":{"properties":{"action":{"type":"string","enum":["publish","read"],"title":"Action","default":"publish"},"segment_seconds":{"anyOf":[{"type":"integer","maximum":600.0,"minimum":1.0},{"type":"null"}],"title":"Segment Seconds","description":"影片切片長度（秒）；未提供則使用系統設定，最後 fallback 30"},"ttl":{"anyOf":[{"type":"integer","maximum":21600.0,"minimum":300.0},{"type":"null"}],"title":"Ttl"}},"type":"object","title":"GenerateTokenReq"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JobCompleteDTO":{"properties":{"job_id":{"type":"string","format":"uuid","title":"Job Id"},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"status":{"$ref":"#/components/schemas/JobStatus"},"video_start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Video Start Time"},"video_end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Video End Time"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metrics"},"events":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Events"}},"type":"object","required":["job_id","status"],"title":"JobCompleteDTO"},"JobCreateDTO":{"properties":{"type":{"type":"string","title":"Type","description":"例如 video_description_extraction"},"input_type":{"type":"string","title":"Input Type","description":"例如 video"},"input_url":{"type":"string","title":"Input Url"},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"params":{"$ref":"#/components/schemas/JobParams"}},"type":"object","required":["type","input_type","input_url","params"],"title":"JobCreateDTO"},"JobCreatedRespDTO":{"properties":{"job_id":{"type":"string","format":"uuid","title":"Job Id"},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"status":{"$ref":"#/components/schemas/JobStatus","default":"pending"}},"type":"object","required":["job_id"],"title":"JobCreatedRespDTO"},"JobGetRespDTO":{"properties":{"job_id":{"type":"string","format":"uuid","title":"Job Id"},"type":{"type":"string","title":"Type"},"status":{"$ref":"#/components/schemas/JobStatus"},"input_type":{"type":"string","title":"Input Type"},"input_url":{"type":"string","title":"Input Url"},"output_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Url"},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params"},"metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metrics"}},"type":"object","required":["job_id","type","status","input_type","input_url","output_url","trace_id","duration","error_code","error_message","params","metrics"],"title":"JobGetRespDTO"},"JobListRespDTO":{"properties":{"items":{"items":{"$ref":"#/components/schemas/JobGetRespDTO"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"page_total":{"type":"integer","title":"Page Total"}},"type":"object","required":["items","total","page","size","page_total"],"title":"JobListRespDTO"},"JobParams":{"properties":{"video_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Video Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"camera_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Camera Id"},"video_start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Video Start Time"},"target_fps":{"type":"integer","title":"Target Fps","default":3},"blur_threshold":{"type":"number","title":"Blur Threshold","default":60},"difference_module":{"type":"string","title":"Difference Module","default":"SSIM"},"difference_threshold":{"type":"number","title":"Difference Threshold","default":0.7},"compression_proportion":{"type":"number","title":"Compression Proportion","default":0.5}},"type":"object","title":"JobParams"},"JobStatus":{"type":"string","enum":["pending","processing","success","failed"],"title":"JobStatus"},"JobStatusRespDTO":{"properties":{"status":{"$ref":"#/components/schemas/JobStatus"}},"type":"object","required":["status"],"title":"JobStatusRespDTO"},"LLMModelAPIConfig":{"properties":{"providers":{"additionalProperties":{"$ref":"#/components/schemas/LLMProviderConfig"},"type":"object","title":"Providers","description":"供應商設定"}},"type":"object","title":"LLMModelAPIConfig","description":"LLM 模型 API 設定"},"LLMProviderConfig":{"properties":{"api_key":{"type":"string","title":"Api Key","description":"API 金鑰"},"model_names":{"items":{"type":"string"},"type":"array","title":"Model Names","description":"可用的模型名稱列表"}},"type":"object","required":["api_key"],"title":"LLMProviderConfig","description":"單一 LLM 供應商設定"},"LoginResponseDTO":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"LoginResponseDTO"},"MusicAdminRead":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"composer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composer"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"uploader_user_id":{"type":"integer","title":"Uploader User Id"},"uploader_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"content_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"},"s3_key":{"type":"string","title":"S3 Key"}},"type":"object","required":["id","name","uploader_user_id","created_at","s3_key"],"title":"MusicAdminRead"},"MusicListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/MusicRead"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"MusicListResponse"},"MusicRead":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"composer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composer"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"uploader_user_id":{"type":"integer","title":"Uploader User Id"},"uploader_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"content_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"}},"type":"object","required":["id","name","uploader_user_id","created_at"],"title":"MusicRead"},"MusicUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"composer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composer"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"MusicUpdate"},"MusicUrlResponse":{"properties":{"url":{"type":"string","title":"Url"},"ttl":{"type":"integer","title":"Ttl"},"expires_at":{"type":"integer","title":"Expires At"}},"type":"object","required":["url","ttl","expires_at"],"title":"MusicUrlResponse"},"OKRespDTO":{"properties":{"msg":{"type":"string","title":"Msg","default":"OK"}},"type":"object","title":"OKRespDTO"},"PlayWebRTCURLResp":{"properties":{"play_webrtc_url":{"type":"string","title":"Play Webrtc Url"},"ttl":{"type":"integer","title":"Ttl"},"expires_at":{"type":"integer","title":"Expires At"}},"type":"object","required":["play_webrtc_url","ttl","expires_at"],"title":"PlayWebRTCURLResp"},"RecordingListResp":{"properties":{"items":{"items":{"$ref":"#/components/schemas/RecordingRead"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"RecordingListResp"},"RecordingRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"camera_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Camera Id"},"s3_key":{"type":"string","title":"S3 Key"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"is_processed":{"type":"boolean","title":"Is Processed"},"is_embedding":{"type":"boolean","title":"Is Embedding"},"size_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size Bytes"},"upload_status":{"type":"string","title":"Upload Status"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"video_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Video Metadata"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","user_id","s3_key","is_processed","is_embedding","upload_status"],"title":"RecordingRead"},"RecordingSimple":{"properties":{"id":{"type":"string","title":"Id"},"time":{"type":"string","title":"Time"},"duration":{"type":"number","title":"Duration"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scene"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"}},"type":"object","required":["id","time","duration"],"title":"RecordingSimple","description":"查詢結果中的影片（精簡版）"},"RecordingUrlResp":{"properties":{"url":{"type":"string","title":"Url"},"ttl":{"type":"integer","maximum":604800.0,"minimum":30.0,"title":"Ttl"},"expires_at":{"type":"integer","title":"Expires At"},"thumbnail_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail Url"}},"type":"object","required":["url","ttl","expires_at"],"title":"RecordingUrlResp"},"SetDefaultAiKeyLimitsDTO":{"properties":{"rpm":{"type":"integer","title":"Rpm"},"rpd":{"type":"integer","title":"Rpd"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["rpm","rpd"],"title":"SetDefaultAiKeyLimitsDTO","description":"設置系統預設 AI API Key（預設 key）使用量限制（每位使用者）"},"SetDefaultGoogleApiKeyDTO":{"properties":{"api_key":{"type":"string","title":"Api Key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["api_key"],"title":"SetDefaultGoogleApiKeyDTO","description":"設置預設 Google API Key"},"SetDefaultLLMDTO":{"properties":{"default_llm_provider":{"type":"string","title":"Default Llm Provider"},"default_llm_model":{"type":"string","title":"Default Llm Model"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["default_llm_provider","default_llm_model"],"title":"SetDefaultLLMDTO","description":"設置系統預設 LLM 供應商與模型（全系統共享，僅管理員可修改）"},"SetVideoParamsDTO":{"properties":{"segment_seconds":{"type":"integer","title":"Segment Seconds"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["segment_seconds"],"title":"SetVideoParamsDTO","description":"設置影片參數（系統層級，僅管理員可修改）"},"SignupRequestDTO":{"properties":{"account":{"type":"string","title":"Account"},"name":{"type":"string","title":"Name"},"gender":{"$ref":"#/components/schemas/Gender"},"birthday":{"type":"string","format":"date","title":"Birthday"},"phone":{"type":"string","title":"Phone"},"email":{"type":"string","format":"email","title":"Email"},"headshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Headshot Url"},"password":{"type":"string","title":"Password"}},"type":"object","required":["account","name","gender","birthday","phone","email","password"],"title":"SignupRequestDTO"},"StreamConnectResp":{"properties":{"ttl":{"type":"integer","title":"Ttl"},"info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Info"}},"type":"object","required":["ttl"],"title":"StreamConnectResp"},"StreamStatusResp":{"properties":{"is_streaming":{"type":"boolean","title":"Is Streaming"},"status":{"anyOf":[{"type":"string","enum":["starting","running","stopped","error","reconnecting"]},{"type":"null"}],"title":"Status"},"stream_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Stream Info"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["is_streaming"],"title":"StreamStatusResp"},"TaskInfoDTO":{"properties":{"task_id":{"type":"string","title":"Task Id"},"task_type":{"type":"string","title":"Task Type"},"status":{"type":"string","title":"Status"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"camera_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Id"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["task_id","task_type","status"],"title":"TaskInfoDTO","description":"任務資訊"},"TaskListRespDTO":{"properties":{"items":{"items":{"$ref":"#/components/schemas/TaskInfoDTO"},"type":"array","title":"Items"},"item_total":{"type":"integer","title":"Item Total"},"page_size":{"type":"integer","title":"Page Size"},"page_now":{"type":"integer","title":"Page Now"},"page_total":{"type":"integer","title":"Page Total"}},"type":"object","required":["items","item_total","page_size","page_now","page_total"],"title":"TaskListRespDTO","description":"任務列表回應"},"TokenVersionResp":{"properties":{"token_version":{"type":"integer","title":"Token Version"}},"type":"object","required":["token_version"],"title":"TokenVersionResp"},"UpdateUserActiveDTO":{"properties":{"active":{"type":"boolean","title":"Active"}},"type":"object","required":["active"],"title":"UpdateUserActiveDTO","description":"管理員更新使用者啟用狀態"},"UpdateUserProfileDTO":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"gender":{"anyOf":[{"$ref":"#/components/schemas/Gender"},{"type":"null"}]},"birthday":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Birthday"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"headshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Headshot Url"}},"type":"object","title":"UpdateUserProfileDTO"},"UpdateUserSettingsRequest":{"properties":{"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone","description":"時區設定"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"語言設定"},"theme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme","description":"主題設定"},"notifications_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Notifications Enabled","description":"是否啟用通知"},"default_llm_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Llm Provider","description":"預設 LLM 供應商"},"default_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Llm Model","description":"預設 LLM 模型"},"llm_providers":{"anyOf":[{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object"},{"type":"null"}],"title":"Llm Providers","description":"LLM 供應商設定"},"diary_auto_refresh_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Diary Auto Refresh Enabled","description":"是否啟用日記自動刷新"},"diary_auto_refresh_interval_minutes":{"anyOf":[{"type":"integer","maximum":1440.0,"minimum":5.0},{"type":"null"}],"title":"Diary Auto Refresh Interval Minutes","description":"日記自動刷新間隔（分鐘）"},"default_stream_ttl":{"anyOf":[{"type":"integer","maximum":21600.0,"minimum":300.0},{"type":"null"}],"title":"Default Stream Ttl","description":"串流連結 TTL（秒），範圍：300-21600"},"use_default_api_key":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Default Api Key","description":"是否使用系統預設 API Key（如果管理員允許）"}},"type":"object","title":"UpdateUserSettingsRequest","description":"更新使用者設定請求"},"UserDetailDTO":{"properties":{"user_id":{"type":"integer","title":"User Id"},"account":{"type":"string","title":"Account"},"name":{"type":"string","title":"Name"},"role":{"type":"string","title":"Role"},"gender":{"type":"string","title":"Gender"},"birthday":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Birthday"},"phone":{"type":"string","title":"Phone"},"email":{"type":"string","title":"Email"},"headshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Headshot Url"},"password_hash":{"type":"string","title":"Password Hash"},"active":{"type":"boolean","title":"Active"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"is_blacklisted":{"type":"boolean","title":"Is Blacklisted","default":false},"blacklist_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blacklist Reason"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["user_id","account","name","role","gender","phone","email","password_hash","active"],"title":"UserDetailDTO","description":"使用者詳情（僅管理員可看；包含 password_hash）"},"UserSettings":{"properties":{"timezone":{"type":"string","title":"Timezone","description":"使用者時區","default":"Asia/Taipei"},"llm_model_api":{"$ref":"#/components/schemas/LLMModelAPIConfig"},"default_llm_provider":{"type":"string","title":"Default Llm Provider","description":"預設 LLM 供應商","default":"google"},"default_llm_model":{"type":"string","title":"Default Llm Model","description":"預設 LLM 模型（使用穩定版本，免費層支持）","default":"gemini-2.5-flash-lite"},"language":{"type":"string","title":"Language","description":"語言設定","default":"zh-TW"},"theme":{"type":"string","title":"Theme","description":"主題設定","default":"light"},"notifications_enabled":{"type":"boolean","title":"Notifications Enabled","description":"是否啟用通知","default":true},"diary_auto_refresh_enabled":{"type":"boolean","title":"Diary Auto Refresh Enabled","description":"是否啟用日記自動刷新","default":true},"diary_auto_refresh_interval_minutes":{"type":"integer","maximum":1440.0,"minimum":5.0,"title":"Diary Auto Refresh Interval Minutes","description":"日記自動刷新間隔（分鐘）","default":30},"default_stream_ttl":{"type":"integer","maximum":21600.0,"minimum":300.0,"title":"Default Stream Ttl","description":"串流連結 TTL（秒），範圍：300-21600","default":300},"use_default_api_key":{"type":"boolean","title":"Use Default Api Key","description":"是否使用系統預設 API Key（如果管理員允許）","default":true}},"type":"object","title":"UserSettings","description":"使用者設定模型"},"UserSettingsResponse":{"properties":{"settings":{"$ref":"#/components/schemas/UserSettings","description":"使用者設定"},"message":{"type":"string","title":"Message","description":"回應訊息","default":"設定已更新"}},"type":"object","required":["settings"],"title":"UserSettingsResponse","description":"使用者設定回應"},"UserStatsDTO":{"properties":{"user_id":{"type":"integer","title":"User Id"},"account":{"type":"string","title":"Account"},"name":{"type":"string","title":"Name"},"total_token_usage":{"type":"integer","title":"Total Token Usage","default":0},"total_chat_messages":{"type":"integer","title":"Total Chat Messages","default":0},"is_blacklisted":{"type":"boolean","title":"Is Blacklisted","default":false},"use_default_api_key":{"type":"boolean","title":"Use Default Api Key","default":true}},"type":"object","required":["user_id","account","name"],"title":"UserStatsDTO","description":"使用者統計"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoParamsResponse":{"properties":{"segment_seconds":{"type":"integer","title":"Segment Seconds"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["segment_seconds"],"title":"VideoParamsResponse","description":"影片參數回應"},"VlogAISelectRequest":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"summary_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary Text"},"limit":{"type":"integer","maximum":100.0,"minimum":10.0,"title":"Limit","description":"建議的事件數量 (Top K)","default":20}},"type":"object","required":["date"],"title":"VlogAISelectRequest"},"VlogAISelectResponse":{"properties":{"selected_event_ids":{"items":{"type":"string"},"type":"array","title":"Selected Event Ids"}},"type":"object","required":["selected_event_ids"],"title":"VlogAISelectResponse"},"VlogCreateRequest":{"properties":{"target_date":{"type":"string","format":"date","title":"Target Date"},"event_ids":{"items":{"type":"string"},"type":"array","title":"Event Ids"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"max_duration":{"type":"integer","maximum":180.0,"minimum":30.0,"title":"Max Duration","description":"最大時長(秒),最長3分鐘","default":180},"resolution":{"type":"string","pattern":"^(480p|720p|1080p)$","title":"Resolution","description":"輸出解析度","default":"720p"},"music_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Music Id","description":"選用的音樂 ID"},"music_start":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Music Start","description":"音樂開始時間（秒）"},"music_end":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Music End","description":"音樂結束時間（秒）"},"music_fade":{"type":"boolean","title":"Music Fade","description":"是否套用淡入淡出效果","default":true},"music_volume":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Music Volume","description":"音樂音量（0~1，可選）"}},"type":"object","required":["target_date","event_ids"],"title":"VlogCreateRequest","description":"創建 Vlog 的請求"},"VlogCreateResponse":{"properties":{"vlog_id":{"type":"string","title":"Vlog Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["vlog_id","status","message"],"title":"VlogCreateResponse","description":"創建 Vlog 的響應"},"VlogDetailResponse":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"target_date":{"type":"string","format":"date","title":"Target Date"},"status":{"type":"string","title":"Status"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"segments":{"items":{"$ref":"#/components/schemas/VlogSegmentInfo"},"type":"array","title":"Segments"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"status_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Message"}},"type":"object","required":["id","target_date","status","segments","created_at"],"title":"VlogDetailResponse","description":"Vlog 詳細信息"},"VlogInfo":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"target_date":{"type":"string","format":"date","title":"Target Date"},"status":{"type":"string","title":"Status"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"status_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Message"}},"type":"object","required":["id","target_date","status","created_at"],"title":"VlogInfo","description":"Vlog 基本信息"},"VlogInternalSegmentInfoResponse":{"properties":{"event_id":{"type":"string","title":"Event Id"},"recording_id":{"type":"string","title":"Recording Id"},"s3_key":{"type":"string","title":"S3 Key"},"start_offset":{"type":"number","title":"Start Offset"},"duration":{"type":"number","title":"Duration"},"recording_duration":{"type":"number","title":"Recording Duration"}},"type":"object","required":["event_id","recording_id","s3_key","start_offset","duration","recording_duration"],"title":"VlogInternalSegmentInfoResponse"},"VlogInternalSegmentRequest":{"properties":{"event_ids":{"items":{"type":"string"},"type":"array","title":"Event Ids"}},"type":"object","required":["event_ids"],"title":"VlogInternalSegmentRequest"},"VlogListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/VlogInfo"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"VlogListResponse","description":"Vlog 列表響應"},"VlogSegmentInfo":{"properties":{"recording_id":{"type":"string","title":"Recording Id"},"event_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Id"},"start_offset":{"type":"number","title":"Start Offset"},"end_offset":{"type":"number","title":"End Offset"},"sequence_order":{"type":"integer","title":"Sequence Order"}},"type":"object","required":["recording_id","start_offset","end_offset","sequence_order"],"title":"VlogSegmentInfo","description":"Vlog 片段信息"},"VlogSimple":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"date":{"type":"string","title":"Date"},"status":{"type":"string","title":"Status"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"}},"type":"object","required":["id","date","status"],"title":"VlogSimple","description":"查詢結果中的Vlog（精簡版）"},"VlogStatusUpdate":{"properties":{"status":{"anyOf":[{"type":"string","pattern":"^(processing|completed|failed)$"},{"type":"null"}],"title":"Status"},"s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"progress":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Progress"},"status_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Message"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"}},"type":"object","title":"VlogStatusUpdate"},"VlogStatusUpdateResponse":{"properties":{"vlog_id":{"type":"string","title":"Vlog Id"},"status":{"type":"string","title":"Status"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"status_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Message"},"s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key"},"thumbnail_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail S3 Key"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}},"type":"object","required":["vlog_id","status"],"title":"VlogStatusUpdateResponse"},"VlogUrlResponse":{"properties":{"url":{"type":"string","title":"Url"},"ttl":{"type":"integer","title":"Ttl"},"expires_at":{"type":"integer","title":"Expires At"}},"type":"object","required":["url","ttl","expires_at"],"title":"VlogUrlResponse","description":"Vlog 播放 URL"},"app__router__Events__DTO__EventRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"recording_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Recording Id"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scene"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"objects":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Objects"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id"],"title":"EventRead"},"app__router__Recordings__DTO__EventRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"recording_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Recording Id"},"action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"},"scene":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scene"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"objects":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Objects"},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id"],"title":"EventRead"},"app__router__Recordings__DTO__OkResp":{"properties":{"ok":{"type":"boolean","title":"Ok","default":true}},"type":"object","title":"OkResp"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}