DEBUG = true
# PostgreSQL 設定
DB_NAME=dementia    
DB_SUPERUSER=postgres
DB_SUPERPASS=SQwqeJRTui-tejioED43G-YJ73GE3HIJ
DB_HOST=postgres
DB_PORT=5432
DB_PORT_PUBLIC=30700

# # 自動建立的應用使用者
# APP_USER=app_user
# APP_PASSWORD=hEWeosQgr-EfeG2G6JT3-kwprgjuRXo

# # supervisor 用戶
# SUPERVISOR_USER=supervisor
# SUPERVISOR_PASSWORD=EF23KUre63-DNU35NYSDB-SERO43REDF

# JWT 設定
JWT_SECRET_KEY=pokiuytdru7fgt90ewuhy783u82uhdliewhduip23ugp
JWT_EXPIRE_MINUTES = 1440  # 1 day
# API 服務配置
API_HOST=0.0.0.0
API_PORT=30000

# 前端服務配置
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=5000

# 服務間通信
API_BASE_URL=http://api:30000

GOOGLE_API_KEY=AIzaSyDg97Kg0lWkPOERSA9cuEaPHhpetjgRwV0

# Broker
BROKER_URL=redis://redis:6379/0

# Celery Result Backend
CELERY_RESULT_BACKEND=redis://redis:6379/1

# Eager 模式（本機單步、無需 Redis/worker）
CELERY_TASK_ALWAYS_EAGER=false

# Celery
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIME_LIMIT=300        # 硬超時（秒）
CELERY_SOFT_TIME_LIMIT=280   # 軟超時（秒）
CELERY_WORKER_CONCURRENCY=2
CELERY_PREFETCH_MULTIPLIER=1
CELERY_ACKS_LATE=true
CELERY_VISIBILITY_TIMEOUT=300


# ================= MinIO 設定 ================= 
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=MinIOPASSwoRd_Str0nG
MINIO_ENDPOINT=http://minio:9000
MINIO_PUBLIC_ENDPOINT=http://localhost:30300
MINIO_BUCKET=media-bucket
PRESIGN_EXPIRES=3600

# ================= Streaming Server ================= 

# MediaMTX RTSP 基礎 URL（用於 Docker 網絡內通信，使用容器內部端口 8554）
# 注意：外部推流端應使用外部端口 30201，但 StreamingServer 在 Docker 網絡內應使用內部端口 8554
# 外網對外網：外部推流端使用 rtsp://localhost:30201
# 內網對內網：StreamingServer 使用 rtsp://mediamtx:8554
MEDIAMTX_RTSP_BASE=rtsp://mediamtx:8554
SEGMENT_SECONDS=60
ALIGN_FIRST_CUT=true
RECORD_ROOT=/recordings
LOG_DIR=/var/log/streaming
STREAMING_BASE=http://streaming:30500
INTERNAL_TOKEN=streaming-01990207-2ca6-7c62-b441-89e75a6e094c


JOB_API_BASE=http://api:30000/api/v1
JOB_API_KEY=0bZWuqcN8okMP9AA9tY3ZoU9ifaSy0k1Fox5S7qjhNF-4KVaDIz6jRwH4qRYFl3P

RTSP_PUBLIC_HOST=localhost
RTSP_PORT=30201
STREAM_JWT_SECRET = streaming-01496201-2216-7562-b941-89e7ea6e094c
STREAM_JWT_ALG = HS256
STREAM_TOKEN_TTL_SECONDS = 1800
STREAM_TOKEN_CLOCK_SKEW = 60
STREAM_PUBLISH_TTL = 60
STREAM_PLAY_TTL = 300
# 可選：開啟 SQLite outbox（指定一個 volume 內的路徑）
# UPLOADER_DB=/data/uploader.db

HLS_PORT=30202