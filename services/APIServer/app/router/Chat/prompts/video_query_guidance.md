# 影片查詢工具使用指南

## 工具說明

**search_recordings_by_activity** 是用於查詢影片的工具。當用戶明確要求查看影片、視頻、錄影時，必須使用此工具。

## 何時使用此工具

### ✅ 應該使用的情況

1. **明確要求影片**：
   - "請給我影片"
   - "我要看影片"
   - "給我看視頻"
   - "請提供錄影"

2. **詢問影片相關問題**：
   - "我今天什麼時候去購物，請給我影片"
   - "我有沒有散步的影片？"
   - "給我看我昨天吃飯的錄影"
   - "我想看今天早上運動的視頻"

3. **包含「影片」「視頻」「錄影」等關鍵字**：
   - 任何包含這些關鍵字的查詢都應該使用影片查詢工具
   - 即使同時提到事件，如果用戶要求影片，優先使用影片查詢工具

### ❌ 不應該使用的情況

1. **只詢問事件資訊**（沒有要求影片）：
   - "我今天幾點去購物？" → 使用 `search_events_by_activity`
   - "我昨天做了什麼？" → 使用 `search_events_by_time`

2. **只詢問摘要**：
   - "我今天做了什麼？" → 使用 `get_daily_summary` 或 `search_events_by_time`

## 使用格式

### 基本格式

```python
search_recordings_by_activity(
    activity="活動名稱",      # 必需：如"購物"、"散步"、"吃飯"
    date_from="YYYY-MM-DD",  # 可選：起始日期
    date_to="YYYY-MM-DD",    # 可選：結束日期
    limit=10                 # 可選：最多返回結果數（預設10）
)
```

### 範例

#### 範例 1：今天購物的影片
**用戶查詢**："我今天什麼時候去購物，請給我影片"

**工具調用**：
```python
search_recordings_by_activity(
    activity="購物",
    date_from="2025-01-20",  # 今天的日期
    date_to="2025-01-20",
    limit=10
)
```

#### 範例 2：昨天散步的影片
**用戶查詢**："我昨天有散步嗎？給我看影片"

**工具調用**：
```python
search_recordings_by_activity(
    activity="散步",
    date_from="2025-01-19",  # 昨天的日期
    date_to="2025-01-19",
    limit=10
)
```

#### 範例 3：本週運動的影片
**用戶查詢**："這週我有運動的影片嗎？"

**工具調用**：
```python
search_recordings_by_activity(
    activity="運動",
    date_from="2025-01-14",  # 本週開始日期
    date_to="2025-01-20",    # 今天
    limit=10
)
```

#### 範例 4：吃飯的影片（不限日期）
**用戶查詢**："給我看我吃飯的影片"

**工具調用**：
```python
search_recordings_by_activity(
    activity="吃飯",
    limit=10
)
```

## 活動名稱提取指南

### 常見活動對應

- **飲食相關**：吃飯、吃早餐、吃午餐、吃晚餐、用餐、進食、喝水
- **運動相關**：運動、散步、跑步、健身、做運動
- **購物相關**：購物、買東西、逛街、採買
- **休閒相關**：看電視、看書、閱讀、聽音樂
- **家務相關**：做家事、打掃、整理、洗碗

### 提取原則

1. **優先使用用戶提到的具體活動名稱**
2. **如果用戶說「購物」，不要改成「買東西」**
3. **如果用戶說「散步」，不要改成「運動」**
4. **保持活動名稱的原始性，盡量貼近用戶用詞**

## 重要提醒

1. **影片查詢優先級**：當用戶明確要求影片時，即使查詢中也包含事件相關問題，也應該優先使用影片查詢工具

2. **時間轉換**：必須將相對時間（今天、昨天、這週）轉換為具體日期（YYYY-MM-DD 格式）

3. **組合查詢**：如果用戶同時要求事件和影片，可以：
   - 先使用 `search_recordings_by_activity` 查詢影片
   - 如果需要更多事件細節，再使用 `search_events_by_activity`

4. **回應格式**：查詢到影片後，在回答中明確告知用戶找到了影片，並說明影片的數量和時間範圍

## 範例對話

### 對話 1
**用戶**："我今天什麼時候去購物，請給我影片"

**AI 行為**：
1. 識別關鍵字：「購物」「影片」
2. 轉換時間：「今天」→ 具體日期
3. 調用工具：`search_recordings_by_activity(activity="購物", date_from="今天", date_to="今天")`
4. 回答：告訴使用者結果

### 對話 2
**用戶**："我昨天有散步嗎？給我看影片"

**AI 行為**：
1. 識別關鍵字：「散步」「影片」
2. 轉換時間：「昨天」→ 具體日期
3. 調用工具：`search_recordings_by_activity(activity="散步", date_from="昨天", date_to="昨天")`
4. 回答："找到了您昨天散步的影片..."

### 對話 3
**用戶**："我想看這週運動的視頻"

**AI 行為**：
1. 識別關鍵字：「運動」「視頻」
2. 轉換時間：「這週」→ 本週開始日期到今天的範圍
3. 調用工具：`search_recordings_by_activity(activity="運動", date_from="本週開始", date_to="今天")`
4. 回答："找到了您這週運動的影片..."

